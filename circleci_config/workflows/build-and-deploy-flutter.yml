jobs:
  - verify-version-flutter:
      filters:
        tags:
          only: /^v\d+\.\d+\.\d+(\+\d)*-flutter$/
        branches:
          ignore: /.*/
  - test-flutter:
      requires:
        - verify-version-flutter
      filters:
        tags:
          only: /^v\d+\.\d+\.\d+(\+\d)*-flutter$/
        branches:
          ignore: /.*/
  - analyze-flutter:
      requires:
        - verify-version-flutter
      filters:
        tags:
          only: /^v\d+\.\d+\.\d+(\+\d)*-flutter$/
        branches:
          ignore: /.*/
  - build-and-deploy-flutter-android:
      requires:
        - test-flutter
        - analyze-flutter
      filters:
        tags:
          only: /^v\d+\.\d+\.\d+(\+\d)*-flutter$/
        branches:
          ignore: /.*/
  - build-and-deploy-flutter-ios:
      requires:
        - test-flutter
        - analyze-flutter
      filters:
        tags:
          only: /^v\d+\.\d+\.\d+(\+\d)*-flutter$/
        branches:
          ignore: /.*/
  - build-flutter-macos:
      requires:
        - test-flutter
        - analyze-flutter
      filters:
        tags:
          only: /^v\d+\.\d+\.\d+(\+\d)*-flutter$/
        branches:
          ignore: /.*/
  - build-flutter-windows:
      requires:
        - test-flutter
        - analyze-flutter
      filters:
        tags:
          only: /^v\d+\.\d+\.\d+(\+\d)*-flutter$/
        branches:
          ignore: /.*/
  - build-flutter-linux:
      requires:
        - test-flutter
        - analyze-flutter
      filters:
        tags:
          only: /^v\d+\.\d+\.\d+(\+\d)*-flutter$/
        branches:
          ignore: /.*/
  - publish-flutter-github-release:
      requires:
        - build-and-deploy-flutter-android
        - build-and-deploy-flutter-ios
        - build-flutter-macos
        - build-flutter-windows
        - build-flutter-linux
      filters:
        tags:
          only: /^v\d+\.\d+\.\d+(\+\d)*-flutter$/
        branches:
          ignore: /.*/
